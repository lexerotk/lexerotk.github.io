<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="/assets/etc/horror.png" type="image/x-icon">
    <title>IDIOT</title>
    <script defer src="https://cloud.umami.is/script.js" data-website-id="659fdca6-50a0-447d-9530-a5fc940e1935"></script>
    <style>
        body {
            background-color: black;
            color: #c90014;
            font-family: Agave, monospace;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 90vh;
        }

        h1 {
            font-size: 48px;
        }

        p {
            font-size: 24px;
        }

        h2 {
            font-size: 35px;
        }

        #button {
            display: none;
            color: #c90014;
            background-color: #000;
            border: 3px solid #c90014;
            border-radius: 20px;
            padding: 15px;
            font-size: 20px;
            font-weight: 800;
            color: #c90014;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <button id="button" onclick="btnClick()">????</button>
    <div id="error">
        <audio id="bg" src="/assets/etc/hellsirens.mp3"></audio>
        <h1><u>VPN Connection Detected</u></h1>
        <p>Sorry. VPN users are not welcome. Your behavior has been recorded.</p>
        <h2 id="leak"></h2>
    </div>

    <script type="module">
        export async function getWebRTCIP() {
            return new Promise((resolve) => {
            const rtc = new RTCPeerConnection({
            iceServers: [{ urls: "stun:stun.l.google.com:19302" }]
            });
    
            rtc.createDataChannel("check");
            rtc.createOffer()
                .then(offer => rtc.setLocalDescription(offer))
                .catch(err => reject(err));
    
            rtc.onicecandidate = event => {
                if (event && event.candidate && event.candidate.candidate) {
                    const ipRegex = /([0-9]{1,3}(\.[0-9]{1,3}){3})/;
                    const ipMatch = event.candidate.candidate.match(ipRegex);
                    if (ipMatch) {
                        resolve(ipMatch[1]);
                        rtc.onicecandidate = null;
                    }
                }
            };

            setTimeout(() => {
                resolve("No Leak");
            }, 4000);
          });
        }
        
        (async () => {
            const webrtcIP = await getWebRTCIP();
            if (webrtcIP != "No Leak") {
                document.getElementById("leak").innerHTML = `<b>Uh oh. Your real IP address has been leaked: <u>${webrtcIP}</b></u>`;
            } else {
                document.getElementById("leak").innerText = `You are lucky, there is no IP leak.`;
            }
        })();
        document.getElementById("bg").play()
    </script>
</body>
</html>